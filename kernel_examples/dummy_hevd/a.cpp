#include <cstdio>

#ifndef WIN32_LEAN_AND_MEAN
#define WIN32_LEAN_AND_MEAN
#endif //WIN32_LEAN_AND_MEAN
#ifndef VC_EXTRALEAN
#define VC_EXTRALEAN
#endif //VC_EXTRALEAN
#include <windows.h>

#include "../common/HevdWrapper.hpp"

// main
int main() {
	HevdWrapper hevd;
	// TODO bad design, tocttou here
	if (!hevd.isDriverLoaded()) {
		puts("Load the driver first.");
		return 1;
	}

	UINT64 a, b;
	a = 0xdeadc0de;
	b = 0xbadbeeef;
	printf("%016llX %016llX\n", a, b);
	hevd.writeWhatWhere(&a, &b);
	printf("%016llX %016llX\n", a, b);
	
	return 0;
}
