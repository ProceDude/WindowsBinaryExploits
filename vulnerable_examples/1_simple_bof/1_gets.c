#include <stdio.h>
#include <stdlib.h>

// so vs won't complain
char * gets ( char * str );

void printFlag(void) {
	puts("flag{ciao}");
	exit(0);
}

int main(void) {
	struct {
		char buffer[32];
		int guess;
	} s;
	s.guess = 0xBADBEE;
	
	setvbuf(stdin, 0, _IONBF, 0);
	setvbuf(stdout, 0, _IONBF, 0);
	setvbuf(stderr, 0, _IONBF, 0);

	puts("Enter your name:");
	gets(s.buffer);
	printf("Hi, %s\n", s.buffer);
	if (0x1337 != s.guess) {
		puts("I'm sorry, you lost");
	} else {
		puts("You win!");
	}
	// jmp rsp and jmp esp are both encoded as ff e4 on respective bitnesses
	s.guess = 0x9066e4ff;
	
	return 0;
}
